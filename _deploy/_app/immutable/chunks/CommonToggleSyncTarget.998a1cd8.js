import{s as M,f as Q,g as R,j as T,J as B,S as E,k as L,H as ue,i as W,C as f,r as q,d as C,D as ae,w as X,E as S,x as _,a as le,h as re,c as ce,u as oe}from"./scheduler.d16bdadc.js";import{S as Z,i as v,b as A,d as O,m as P,a as U,t as F,e as H}from"./index.4f66e2f2.js";import{d as I,g as J,c as Y}from"./BaseButton.411e578b.js";import{s as fe}from"./storeUserSettings.8972ff17.js";import{s as G}from"./CommonItemMember.d32f367b.js";import{b as z}from"./paths.0c0af0eb.js";import{B as Se}from"./stores.c7401bf1.js";import{a as g,D as be}from"./storeSyncStatus.3b665716.js";import{h as de}from"./progressRate.711e9bab.js";function ge(e){let s,n,i,l;return{c(){s=Q("input"),this.h()},l(u){s=R(u,"INPUT",{type:!0,class:!0,style:!0}),this.h()},h(){T(s,"type","checkbox"),s.__value=e[3],B(s,s.__value),s.disabled=e[4],T(s,"class",n=E(I(G[e[2]],"rounded",e[5],"appearance-none","disabled:opacity-50","cursor-pointer disabled:cursor-not-allowed"))+" svelte-hiulqb"),L(s,"--url","url("+e[6]+")"),(e[0]===void 0||e[1]===void 0)&&ue(()=>e[20].call(s))},m(u,t){W(u,s,t),s.checked=e[0],s.indeterminate=e[1],i||(l=[f(s,"change",e[20]),f(s,"keyup",e[10]),f(s,"keydown",e[11]),f(s,"keypress",e[12]),f(s,"focus",e[13]),f(s,"blur",e[14]),f(s,"click",e[15]),f(s,"mouseover",e[16]),f(s,"mouseenter",e[17]),f(s,"mouseleave",e[18]),f(s,"paste",e[19])],i=!0)},p(u,[t]){t&8&&(s.__value=u[3],B(s,s.__value)),t&16&&(s.disabled=u[4]),t&36&&n!==(n=E(I(G[u[2]],"rounded",u[5],"appearance-none","disabled:opacity-50","cursor-pointer disabled:cursor-not-allowed"))+" svelte-hiulqb")&&T(s,"class",n),t&64&&L(s,"--url","url("+u[6]+")"),t&1&&(s.checked=u[0]),t&2&&(s.indeterminate=u[1])},i:q,o:q,d(u){u&&C(s),i=!1,ae(l)}}}function he(e,s,n){let i;X(e,fe,a=>n(9,i=a));let{size:l="md"}=s,{group:u=[]}=s,{value:t=""}=s,{checked:r=void 0}=s,{indeterminate:o=!1}=s,{disabled:b=!1}=s,h,m,c;function d(a){S.call(this,e,a)}function y(a){S.call(this,e,a)}function k(a){S.call(this,e,a)}function x(a){S.call(this,e,a)}function N(a){S.call(this,e,a)}function $(a){S.call(this,e,a)}function ee(a){S.call(this,e,a)}function se(a){S.call(this,e,a)}function ne(a){S.call(this,e,a)}function te(a){S.call(this,e,a)}function ie(){r=this.checked,o=this.indeterminate,n(0,r),n(7,u),n(3,t),n(1,o)}return e.$$set=a=>{"size"in a&&n(2,l=a.size),"group"in a&&n(7,u=a.group),"value"in a&&n(3,t=a.value),"checked"in a&&n(0,r=a.checked),"indeterminate"in a&&n(1,o=a.indeterminate),"disabled"in a&&n(4,b=a.disabled)},e.$$.update=()=>{if(e.$$.dirty&512&&n(8,h=i.themeColor),e.$$.dirty&137){const a=u.indexOf(t);r===void 0&&n(0,r=a>=0),r?a<0&&(u.push(t),n(7,u),n(3,t),n(0,r)):a>=0&&(u.splice(a,1),n(7,u),n(3,t),n(0,r))}e.$$.dirty&259&&(o?(n(5,m="bg-yellow-500"),n(6,c=`${z}/checkboxIndeterminate.svg`)):r?(n(5,m=J[h].success.bg),n(6,c=`${z}/checkboxChecked.svg`)):(n(5,m=J[h].error.bg),n(6,c=`${z}/checkboxCross.svg`)))},[r,o,l,t,b,m,c,u,h,i,d,y,k,x,N,$,ee,se,ne,te,ie]}class ye extends Z{constructor(s){super(),v(this,s,he,ge,M,{size:2,group:7,value:3,checked:0,indeterminate:1,disabled:4})}}async function _e(e,s,n,i){s&&n&&i?await j(e,s,n,i):s&&n&&!i?await p(e,s,n):s&&!n&&!i?await V(e,s):await me(e)}async function me(e){const s=[],n=w(_(g),void 0,e);for(const i in _(g)[e].subSyncStatuses)s.push(V(e,i,n));await Promise.all(s)}async function V(e,s,n){const i=[];n=w(_(g),n,e,s);for(const l in _(g)[e].subSyncStatuses[s].subSyncStatuses)i.push(p(e,s,l,n));await Promise.all(i)}async function p(e,s,n,i){const l=[];i=w(_(g),i,e,s,n);for(const u in _(g)[e].subSyncStatuses[s].subSyncStatuses[n].subSyncStatuses)l.push(j(e,s,n,u,i));await Promise.all(l)}async function j(e,s,n,i,l){const u=new be({chainName:e,projectName:s,versionName:n});l=w(_(g),l,e,s,n,i),await de(u,i,l)}function w(e,s,n,i,l,u){if(s===void 0){let t=!0;i&&l&&u?t=e[n].subSyncStatuses[i].subSyncStatuses[l].subSyncStatuses[u].isSyncTarget:i&&l&&!u?t=e[n].subSyncStatuses[i].subSyncStatuses[l].isSyncTarget:i&&!l&&!u?t=e[n].subSyncStatuses[i].isSyncTarget:t=e[n].isSyncTarget,s=!t}return s}function ke(e){let s,n,i,l,u;return n=new ye({props:{checked:e[3].isSyncTarget,indeterminate:D(e[3].subSyncStatuses),size:e[1],disabled:e[2](e[0]).isSyncing}}),n.$on("click",e[4]),l=new Se({props:{textSize:Y(e[1],1),text:K(e[3])}}),{c(){s=Q("div"),A(n.$$.fragment),i=le(),A(l.$$.fragment),this.h()},l(t){s=R(t,"DIV",{class:!0});var r=re(s);O(n.$$.fragment,r),i=ce(r),O(l.$$.fragment,r),r.forEach(C),this.h()},h(){T(s,"class",I("flex","flex-row","w-fit","space-x-2","items-center"))},m(t,r){W(t,s,r),P(n,s,null),oe(s,i),P(l,s,null),u=!0},p(t,[r]){const o={};r&8&&(o.checked=t[3].isSyncTarget),r&8&&(o.indeterminate=D(t[3].subSyncStatuses)),r&2&&(o.size=t[1]),r&5&&(o.disabled=t[2](t[0]).isSyncing),n.$set(o);const b={};r&2&&(b.textSize=Y(t[1],1)),r&8&&(b.text=K(t[3])),l.$set(b)},i(t){u||(U(n.$$.fragment,t),U(l.$$.fragment,t),u=!0)},o(t){F(n.$$.fragment,t),F(l.$$.fragment,t),u=!1},d(t){t&&C(s),H(n),H(l)}}}const D=e=>{if(e){let s=Object.values(e);return!s.every(i=>i.isSyncTarget===s[0].isSyncTarget)}else return!1},K=e=>e.subSyncStatuses?D(e.subSyncStatuses)?"Partially":e.isSyncTarget?"All":"Nothing":e.isSyncTarget?"Yes":"No";function Te(e,s,n){let i,l;X(e,g,c=>n(8,l=c));let{targetChain:u}=s,{targetProject:t=void 0}=s,{targetVersion:r=void 0}=s,{targetContract:o=void 0}=s,{size:b}=s,h;const m=async()=>{await _e(u.name,t==null?void 0:t.name,r==null?void 0:r.name,o==null?void 0:o.name)};return e.$$set=c=>{"targetChain"in c&&n(0,u=c.targetChain),"targetProject"in c&&n(5,t=c.targetProject),"targetVersion"in c&&n(6,r=c.targetVersion),"targetContract"in c&&n(7,o=c.targetContract),"size"in c&&n(1,b=c.size)},e.$$.update=()=>{e.$$.dirty&256&&n(2,i=(c,d,y,k)=>d&&y&&k?l[c.name].subSyncStatuses[d.name].subSyncStatuses[y.name].subSyncStatuses[k.name]:d&&y&&!k?l[c.name].subSyncStatuses[d.name].subSyncStatuses[y.name]:d&&!y&&!k?l[c.name].subSyncStatuses[d.name]:l[c.name]),e.$$.dirty&229&&n(3,h=i(u,t,r,o))},[u,b,i,h,m,t,r,o,l]}class Ae extends Z{constructor(s){super(),v(this,s,Te,ke,M,{targetChain:0,targetProject:5,targetVersion:6,targetContract:7,size:1})}}export{Ae as C,K as s};
