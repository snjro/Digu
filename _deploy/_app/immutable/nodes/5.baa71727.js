import{a as at}from"../chunks/_page.0221e00b.js";import{s as z,e as k,i as j,d as F,w as B,r as v,f as ot,g as ct,h as st,j as lt,x as ut,p as X,F as Y}from"../chunks/scheduler.d16bdadc.js";import{S as V,i as x,g as R,t as g,c as A,a as b,b as p,d as C,m as y,e as h,f as Z}from"../chunks/index.4f66e2f2.js";import{B as G,p as it}from"../chunks/stores.c7401bf1.js";import{b as mt,m as ft,n as gt,e as bt}from"../chunks/CommonItemMember.d32f367b.js";import{B as St}from"../chunks/BaseGrid.9fecaa05.js";import{c as dt,a as U,n as O}from"../chunks/_index.26ae7803.js";import"../chunks/dbBase.2eec5af3.js";import{a as D,s as L}from"../chunks/storeSyncStatus.3b665716.js";import"../chunks/storeRpcSettings.17a6a518.js";import"../chunks/dbSettings.f1fd8dba.js";/* empty css                    */import{c as P,B as _t}from"../chunks/BaseProgressBarForBlockNumber.8c58bbbc.js";import{c as N,a as w}from"../chunks/AbiParamsTable.6dc83b89.js";import{d as $,N as d,b as tt,s as T,a as M,c as et,e as pt,D as Ct}from"../chunks/BaseButton.411e578b.js";import{C as yt}from"../chunks/CommonOpenLink.e21fcda1.js";import{c as ht}from"../chunks/columnDefAbiParams.969526ad.js";import{c as rt}from"../chunks/columnDefStateMutability.8a731fd6.js";import{e as kt,a as Nt}from"../chunks/progressRate.711e9bab.js";import{C as Dt,s as Bt}from"../chunks/CommonToggleSyncTarget.998a1cd8.js";import{C as wt}from"../chunks/CommonChainExplorerLink.1e9a8ae0.js";import{C as Tt}from"../chunks/CommonSyncStateText.465c22ad.js";import{a as Ft}from"../chunks/logger.cb3e7472.js";function Gt({params:n}){return at({params:n})}const Ve=Object.freeze(Object.defineProperty({__proto__:null,load:Gt},Symbol.toStringTag,{value:"Module"})),zt=()=>({headerName:"Creation",openByDefault:!1,children:[P("Creation Blocknumber","contractCreationBlockNumber","block",void 0),{field:"contractCreationDatetime",headerName:"Creation Datetime",sortable:!0,editable:!1,cellStyle:N("start"),columnGroupShow:"open"},P("Creation Tx Hash","contractCreationTx","tx","open"),P("Creator Address","contractCreationCreator","address","open")]}),E=T.grid,H=$(""),W=!0,K=!1,jt=n=>({headerName:"Basics",openByDefault:!1,children:[{headerName:"Contract Name",sortable:W,editable:K,cellClass:H,columnGroupShow:void 0,valueGetter:e=>e.data?e.data.contractName:"",cellRenderer:w((e,r)=>{var a;r.data&&new tt({target:e.eGui,props:{text:(a=r.data)==null?void 0:a.contractName,href:`${n}${r.data.contractName}#${dt(mt[0])}`,textSize:E,openNewTab:!1,prefixIcon:{name:"scriptText",size:E}}})})},P("contract address","contractAddress","address","open"),{headerName:"Source URL",sortable:W,editable:K,cellClass:H,columnGroupShow:"open",valueGetter:e=>e.data.contractSourceCodeUrl??d,cellRenderer:w((e,r)=>{var a,s,o;(a=r.data)!=null&&a.contractSourceCodeUrl?new yt({target:e.eGui,props:{text:(s=r.data)==null?void 0:s.contractSourceCodeUrl,href:(o=r.data)==null?void 0:o.contractSourceCodeUrl,textSize:E,openNewTab:!0}}):new G({target:e.eGui,props:{text:d,textSize:E}})})}]}),Vt=n=>({headerName:"Constructor",children:[rt("contractConstructorStateMutability"),ht("contractConstructorInputs","inputs",n,!1)]}),xt=()=>({headerName:"Fallback",children:[rt("contractFallbackStateMutability")]}),q=T.grid,J=(n,t)=>{const e=n==="events"?"contractEventsTotalNumber":"contractFunctionsTotalNumber";return{headerName:`${U(n)}`,children:[{headerName:`Num of ${U(n)}`,sortable:!0,editable:!1,cellStyle:N("end"),columnGroupShow:void 0,valueGetter:a=>a.data?a.data[e]:0,cellRenderer:w((a,s)=>{if(s.data){const o=s.data[e];if(o>0){const u=`${t}${s.data.contractName}/${n}`;new tt({target:a.eGui,props:{text:O(o),href:u,textSize:q,openNewTab:!1}})}else new G({target:a.eGui,props:{text:O(o),textSize:q}})}})}]}};function Et(n){let t,e;return t=new G({props:{text:d,textSize:n[4]}}),{c(){p(t.$$.fragment)},l(r){C(t.$$.fragment,r)},m(r,a){y(t,r,a),e=!0},p:v,i(r){e||(b(t.$$.fragment,r),e=!0)},o(r){g(t.$$.fragment,r),e=!1},d(r){h(t,r)}}}function Pt(n){let t,e,r;return e=new _t({props:{startBlockNumber:n[0].creation.blockNumber,colorCategoryFront:M.gridContainer,colorCategoryBg:M.gridContainer,fetchedBlockNumber:n[3],endBlockNumber:n[2],size:et(n[4],-1),showBlockNumber:!1,shadowBar:!1,processing:n[1].isSyncing,rounded:!0}}),{c(){t=ot("div"),p(e.$$.fragment),this.h()},l(a){t=ct(a,"DIV",{class:!0});var s=st(t);C(e.$$.fragment,s),s.forEach(F),this.h()},h(){lt(t,"class",$("h-full","flex","items-center"))},m(a,s){j(a,t,s),y(e,t,null),r=!0},p(a,s){const o={};s&1&&(o.startBlockNumber=a[0].creation.blockNumber),s&8&&(o.fetchedBlockNumber=a[3]),s&4&&(o.endBlockNumber=a[2]),s&2&&(o.processing=a[1].isSyncing),e.$set(o)},i(a){r||(b(e.$$.fragment,a),r=!0)},o(a){g(e.$$.fragment,a),r=!1},d(a){a&&F(t),h(e)}}}function vt(n){let t,e,r,a;const s=[Pt,Et],o=[];function u(c,l){return c[3]?0:1}return t=u(n),e=o[t]=s[t](n),{c(){e.c(),r=k()},l(c){e.l(c),r=k()},m(c,l){o[t].m(c,l),j(c,r,l),a=!0},p(c,[l]){let i=t;t=u(c),t===i?o[t].p(c,l):(R(),g(o[i],1,1,()=>{o[i]=null}),A(),e=o[t],e?e.p(c,l):(e=o[t]=s[t](c),e.c()),b(e,1),e.m(r.parentNode,r))},i(c){a||(b(e),a=!0)},o(c){g(e),a=!1},d(c){c&&F(r),o[t].d(c)}}}function Rt(n,t,e){let r,a;B(n,D,f=>e(8,r=f)),B(n,L,f=>e(9,a=f));let{targetChain:s}=t,{targetProject:o}=t,{targetVersion:u}=t,{targetContract:c}=t;const l=T.grid;let i,_,m;return n.$$set=f=>{"targetChain"in f&&e(5,s=f.targetChain),"targetProject"in f&&e(6,o=f.targetProject),"targetVersion"in f&&e(7,u=f.targetVersion),"targetContract"in f&&e(0,c=f.targetContract)},n.$$.update=()=>{n.$$.dirty&544&&e(2,i=a[s.name].latestBlockNumber),n.$$.dirty&481&&e(1,_=r[s.name].subSyncStatuses[o.name].subSyncStatuses[u.name].subSyncStatuses[c.name]),n.$$.dirty&2&&e(3,m=_?_.fetchedBlockNumber:void 0)},[c,_,i,m,l,s,o,u,r,a]}class At extends V{constructor(t){super(),x(this,t,Rt,vt,z,{targetChain:5,targetProject:6,targetVersion:7,targetContract:0})}}const Lt=(n,t,e)=>({headerName:"Progress",sortable:!0,editable:!1,cellStyle:a=>{if(!(a.data&&a.data.contractHasEvent))return N("center")},columnGroupShow:void 0,valueGetter:a=>{let s=a.data.contract.name,o;D.subscribe(i=>{o=i[n.name].subSyncStatuses[t.name].subSyncStatuses[e.name].subSyncStatuses[s]});let u=0;L.subscribe(i=>{u=i[n.name].latestBlockNumber});let c=a.data.contract.creation.blockNumber;return o?kt(Nt(c,u,o.fetchedBlockNumber)):d},cellRenderer:w((a,s)=>{new At({target:a.eGui,props:{targetChain:n,targetProject:t,targetVersion:e,targetContract:s.data.contract}})})});function It(n){let t,e;return t=new G({props:{text:d,textSize:n[5]}}),{c(){p(t.$$.fragment)},l(r){C(t.$$.fragment,r)},m(r,a){y(t,r,a),e=!0},p:v,i(r){e||(b(t.$$.fragment,r),e=!0)},o(r){g(t.$$.fragment,r),e=!1},d(r){h(t,r)}}}function Mt(n){let t,e;return t=new Dt({props:{targetChain:n[0],targetProject:n[1],targetVersion:n[2],targetContract:n[3],size:et(n[5],-1)}}),{c(){p(t.$$.fragment)},l(r){C(t.$$.fragment,r)},m(r,a){y(t,r,a),e=!0},p(r,a){const s={};a&1&&(s.targetChain=r[0]),a&2&&(s.targetProject=r[1]),a&4&&(s.targetVersion=r[2]),a&8&&(s.targetContract=r[3]),t.$set(s)},i(r){e||(b(t.$$.fragment,r),e=!0)},o(r){g(t.$$.fragment,r),e=!1},d(r){h(t,r)}}}function Ut(n){let t,e,r,a;const s=[Mt,It],o=[];function u(c,l){return c[4]?0:1}return t=u(n),e=o[t]=s[t](n),{c(){e.c(),r=k()},l(c){e.l(c),r=k()},m(c,l){o[t].m(c,l),j(c,r,l),a=!0},p(c,[l]){let i=t;t=u(c),t===i?o[t].p(c,l):(R(),g(o[i],1,1,()=>{o[i]=null}),A(),e=o[t],e?e.p(c,l):(e=o[t]=s[t](c),e.c()),b(e,1),e.m(r.parentNode,r))},i(c){a||(b(e),a=!0)},o(c){g(e),a=!1},d(c){c&&F(r),o[t].d(c)}}}function Ot(n,t,e){let r;B(n,D,i=>e(6,r=i));let{targetChain:a}=t,{targetProject:s}=t,{targetVersion:o}=t,{targetContract:u}=t;const c=T.grid;let l;return n.$$set=i=>{"targetChain"in i&&e(0,a=i.targetChain),"targetProject"in i&&e(1,s=i.targetProject),"targetVersion"in i&&e(2,o=i.targetVersion),"targetContract"in i&&e(3,u=i.targetContract)},n.$$.update=()=>{n.$$.dirty&79&&e(4,l=r[a.name].subSyncStatuses[s.name].subSyncStatuses[o.name].subSyncStatuses[u.name])},[a,s,o,u,l,c,r]}class Ht extends V{constructor(t){super(),x(this,t,Ot,Ut,z,{targetChain:0,targetProject:1,targetVersion:2,targetContract:3})}}const Wt=(n,t,e)=>({headerName:"target",sortable:!0,editable:!1,cellStyle:a=>a.data&&a.data.contractHasEvent?N("start"):N("center"),columnGroupShow:void 0,valueGetter:a=>{let s,o=a.data.contract.name;return D.subscribe(u=>{s=u[n.name].subSyncStatuses[t.name].subSyncStatuses[e.name].subSyncStatuses[o]}),s?Bt(s):d},cellRenderer:w((a,s)=>{new Ht({target:a.eGui,props:{targetChain:n,targetProject:t,targetVersion:e,targetContract:s.data.contract}})})});function Kt(n){let t,e;return t=new G({props:{text:d,textSize:n[2]}}),{c(){p(t.$$.fragment)},l(r){C(t.$$.fragment,r)},m(r,a){y(t,r,a),e=!0},p:v,i(r){e||(b(t.$$.fragment,r),e=!0)},o(r){g(t.$$.fragment,r),e=!1},d(r){h(t,r)}}}function qt(n){let t,e;return t=new wt({props:{subdirectory:"block",value:n[1].toString(),textSize:n[2]}}),{c(){p(t.$$.fragment)},l(r){C(t.$$.fragment,r)},m(r,a){y(t,r,a),e=!0},p(r,a){const s={};a&2&&(s.value=r[1].toString()),t.$set(s)},i(r){e||(b(t.$$.fragment,r),e=!0)},o(r){g(t.$$.fragment,r),e=!1},d(r){h(t,r)}}}function Jt(n){let t,e,r,a;const s=[qt,Kt],o=[];function u(c,l){return c[0]?0:1}return t=u(n),e=o[t]=s[t](n),{c(){e.c(),r=k()},l(c){e.l(c),r=k()},m(c,l){o[t].m(c,l),j(c,r,l),a=!0},p(c,[l]){let i=t;t=u(c),t===i?o[t].p(c,l):(R(),g(o[i],1,1,()=>{o[i]=null}),A(),e=o[t],e?e.p(c,l):(e=o[t]=s[t](c),e.c()),b(e,1),e.m(r.parentNode,r))},i(c){a||(b(e),a=!0)},o(c){g(e),a=!1},d(c){c&&F(r),o[t].d(c)}}}function nt(n,t,e){return e?n==="Goal"?t:n==="Current"?e.fetchedBlockNumber:e.creationBlockNumber:0}function Qt(n,t,e){let r,a;B(n,D,S=>e(9,r=S)),B(n,L,S=>e(10,a=S));let{targetChain:s}=t,{targetProject:o}=t,{targetVersion:u}=t,{targetContract:c}=t,{headerName:l}=t;const i=T.grid;let _,m,f;return n.$$set=S=>{"targetChain"in S&&e(3,s=S.targetChain),"targetProject"in S&&e(4,o=S.targetProject),"targetVersion"in S&&e(5,u=S.targetVersion),"targetContract"in S&&e(6,c=S.targetContract),"headerName"in S&&e(7,l=S.headerName)},n.$$.update=()=>{n.$$.dirty&1032&&e(8,_=a[s.name].latestBlockNumber),n.$$.dirty&632&&e(0,m=r[s.name].subSyncStatuses[o.name].subSyncStatuses[u.name].subSyncStatuses[c.name]),n.$$.dirty&385&&e(1,f=nt(l,_,m))},[m,f,i,s,o,u,c,l,_,r,a]}class Xt extends V{constructor(t){super(),x(this,t,Qt,Jt,z,{targetChain:3,targetProject:4,targetVersion:5,targetContract:6,headerName:7})}}const I=(n,t,e,r)=>({headerName:r,sortable:!0,editable:!1,cellStyle:s=>s.data&&s.data.contractHasEvent?N("end"):N("center"),columnGroupShow:"open",valueGetter:s=>{let o=s.data.contract,u=ut(D)[n.name].subSyncStatuses[t.name].subSyncStatuses[e.name].subSyncStatuses[o.name],c=0;L.subscribe(i=>{c=i[n.name].latestBlockNumber});const l=nt(r,c,u);return l===0?d:l.toString()},cellRenderer:w((s,o)=>{new Xt({target:s.eGui,props:{targetChain:n,targetProject:t,targetVersion:e,targetContract:o.data.contract,headerName:r}})})});function Yt(n){let t,e;return t=new G({props:{text:d,textSize:T.grid}}),{c(){p(t.$$.fragment)},l(r){C(t.$$.fragment,r)},m(r,a){y(t,r,a),e=!0},p:v,i(r){e||(b(t.$$.fragment,r),e=!0)},o(r){g(t.$$.fragment,r),e=!1},d(r){h(t,r)}}}function Zt(n){let t,e;return t=new Tt({props:{syncStateText:n[0].syncStateText,size:T.grid,colorCategoryFront:M.gridCell}}),{c(){p(t.$$.fragment)},l(r){C(t.$$.fragment,r)},m(r,a){y(t,r,a),e=!0},p(r,a){const s={};a&1&&(s.syncStateText=r[0].syncStateText),t.$set(s)},i(r){e||(b(t.$$.fragment,r),e=!0)},o(r){g(t.$$.fragment,r),e=!1},d(r){h(t,r)}}}function $t(n){let t,e,r,a;const s=[Zt,Yt],o=[];function u(c,l){return c[0]?0:1}return t=u(n),e=o[t]=s[t](n),{c(){e.c(),r=k()},l(c){e.l(c),r=k()},m(c,l){o[t].m(c,l),j(c,r,l),a=!0},p(c,[l]){let i=t;t=u(c),t===i?o[t].p(c,l):(R(),g(o[i],1,1,()=>{o[i]=null}),A(),e=o[t],e?e.p(c,l):(e=o[t]=s[t](c),e.c()),b(e,1),e.m(r.parentNode,r))},i(c){a||(b(e),a=!0)},o(c){g(e),a=!1},d(c){c&&F(r),o[t].d(c)}}}function te(n,t,e){let r;B(n,D,l=>e(5,r=l));let{targetChain:a}=t,{targetProject:s}=t,{targetVersion:o}=t,{targetContract:u}=t,c;return n.$$set=l=>{"targetChain"in l&&e(1,a=l.targetChain),"targetProject"in l&&e(2,s=l.targetProject),"targetVersion"in l&&e(3,o=l.targetVersion),"targetContract"in l&&e(4,u=l.targetContract)},n.$$.update=()=>{n.$$.dirty&62&&e(0,c=r[a.name].subSyncStatuses[s.name].subSyncStatuses[o.name].subSyncStatuses[u.name])},[c,a,s,o,u,r]}class ee extends V{constructor(t){super(),x(this,t,te,$t,z,{targetChain:1,targetProject:2,targetVersion:3,targetContract:4})}}const re=(n,t,e)=>({headerName:"Current State",sortable:!0,editable:!1,cellStyle:N("center"),columnGroupShow:void 0,valueGetter:a=>{let s,o=d;const u=a.data.contract.name;return D.subscribe(c=>{s=c[n.name].subSyncStatuses[t.name].subSyncStatuses[e.name].subSyncStatuses[u],s&&(o=s.syncStateText)}),o},cellRenderer:w((a,s)=>{new ee({target:a.eGui,props:{targetChain:n,targetProject:t,targetVersion:e,targetContract:s.data.contract}})})}),ne=(n,t,e)=>({headerName:"Sync Status",openByDefault:!1,children:[Wt(n,t,e),re(n,t,e),Lt(n,t,e),I(n,t,e,"Start"),I(n,t,e,"Current"),I(n,t,e,"Goal")]}),Q=(n,t,e,r,a)=>[jt(r),ne(n,t,e),zt(),J(pt,r),J(Ct,r),xt(),Vt(a)];function ae(n){let t=[];for(const e of n){const r={contract:e,contractName:e.name,contractAddress:e.address,contractSourceCodeUrl:e.sourceCodeUrl,contractCreationBlockNumber:e.creation.blockNumber,contractCreationDatetime:Ft(e.creation.timestamp),contractCreationTx:e.creation.tx,contractCreationCreator:e.creation.creator,contractEventsTotalNumber:e.events.abiFragments.length,contractFunctionsTotalNumber:e.functions.abiFragments.length,contractFallbackStateMutability:e.fallback.abiFragment?e.fallback.abiFragment.stateMutability:d,contractConstructorStateMutability:e.construction.abiFragment?e.construction.abiFragment.stateMutability:d,contractConstructorInputs:e.construction.abiFragment.inputs,contractHasEvent:e.events.abiFragments.length>0};t.push(r)}return t}function oe(n){let t,e,r;function a(o){n[6](o)}let s={rows:n[1],paramColumnDefs:Q(n[0].targetChain,n[0].targetProject,n[0].targetVersion,n[3].url.pathname,n[5]()),hasMultipulTabs:!1,exportFilePrefix:"contracts"};return n[2]!==void 0&&(s.isFullScreen=n[2]),t=new St({props:s}),X.push(()=>Z(t,"isFullScreen",a)),{c(){p(t.$$.fragment)},l(o){C(t.$$.fragment,o)},m(o,u){y(t,o,u),r=!0},p(o,u){const c={};u&2&&(c.rows=o[1]),u&9&&(c.paramColumnDefs=Q(o[0].targetChain,o[0].targetProject,o[0].targetVersion,o[3].url.pathname,o[5]())),!e&&u&4&&(e=!0,c.isFullScreen=o[2],Y(()=>e=!1)),t.$set(c)},i(o){r||(b(t.$$.fragment,o),r=!0)},o(o){g(t.$$.fragment,o),r=!1},d(o){h(t,o)}}}function ce(n){let t,e,r;function a(o){n[7](o)}let s={titleProps:{titleText:n[4](),titleCategoryLabelText:se},$$slots:{PageWrapperContent:[oe]},$$scope:{ctx:n}};return n[2]!==void 0&&(s.isFullScreen=n[2]),t=new ft({props:s}),X.push(()=>Z(t,"isFullScreen",a)),{c(){p(t.$$.fragment)},l(o){C(t.$$.fragment,o)},m(o,u){y(t,o,u),r=!0},p(o,[u]){const c={};u&527&&(c.$$scope={dirty:u,ctx:o}),!e&&u&4&&(e=!0,c.isFullScreen=o[2],Y(()=>e=!1)),t.$set(c)},i(o){r||(b(t.$$.fragment,o),r=!0)},o(o){g(t.$$.fragment,o),r=!1},d(o){h(t,o)}}}const se="Contracts";function le(n,t,e){let r;B(n,it,m=>e(3,r=m));let{data:a}=t;const s=r.params.projectName_versionName,o=()=>{const m=gt(s);return bt(m.projectName,m.versionName)};let u=[];const c=()=>{let m=0;return u.forEach(f=>{f.contractConstructorInputs.length>m&&(m=f.contractConstructorInputs.length)}),m};let l=!1;function i(m){l=m,e(2,l)}function _(m){l=m,e(2,l)}return n.$$set=m=>{"data"in m&&e(0,a=m.data)},n.$$.update=()=>{n.$$.dirty&1&&e(1,u=ae(a.targetVersion.contracts))},[a,u,l,r,o,c,i,_]}class xe extends V{constructor(t){super(),x(this,t,le,ce,z,{data:0})}}export{xe as component,Ve as universal};
